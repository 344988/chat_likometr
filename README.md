# Management and Server Applications

## Описание

### Management Application
Management Application — это десктопное приложение, написанное на Python с использованием библиотеки Tkinter. Оно предоставляет следующие возможности:

- **Чат с пересылкой файлов**: Приложение включает в себя общий чат, где пользователи могут обмениваться сообщениями и прикрепленными файлами. Все сообщения и файлы сохраняются на сервере.
- **Локальная регистрация и авторизация**: Приложение поддерживает систему регистрации и авторизации пользователей. Данные пользователей хранятся на сервере.
- **Система лайков**: Приложение позволяет пользователям голосовать (лайки/дизлайки) за сотрудников, а результаты голосования также сохраняются на сервере.

Приложение работает локально и не требует установки, что позволяет обходить ограничения доменных сетей.

### Server Application
Server Application — это серверное приложение, написанное на Python с использованием Flask. Оно обрабатывает запросы от Management Application и управляет базами данных сотрудников и пользователей. Приложение предоставляет следующие возможности:

- Управление сотрудниками и пользователями, хранение информации в базах данных (`employees.db`, `management.db`).
- Обработка голосований (лайков/дизлайков) и их сохранение.
- Управление чатами, включая пересылку и хранение файлов.
- Логирование ошибок сервера и их отображение в клиентском приложении.

**Важное замечание:** В серверном приложении используются абсолютные пути для хранения файлов и баз данных. Эти пути необходимо менять вручную в зависимости от места установки сервера.

## Установка и запуск

### Требования

- Python 3.8 или выше
- Виртуальное окружение (рекомендуется)

### Установка

1. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/yourusername/yourrepository.git
    cd yourrepository
    ```

2. Создайте и активируйте виртуальное окружение:
    ```bash
    python -m venv venv
    source venv/bin/activate   # На Windows используйте `venv\Scripts\activate`
    ```

3. Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```

### Настройка

#### Настройка серверного приложения

1. Откройте файл `server.py` в любом текстовом редакторе.
2. Найдите переменную `UPLOAD_FOLDER` и измените путь к директории, где вы хотите хранить загруженные файлы:
    ```python
    UPLOAD_FOLDER = r'полный_путь_к_папке_загрузок'
    ```
3. Убедитесь, что другие абсолютные пути, указанные в серверном приложении, соответствуют вашей файловой системе.

#### Настройка клиентского приложения

1. Откройте файл `management_app.py` в текстовом редакторе.
2. Найдите переменную `SERVER_URL` и измените IP-адрес на тот, который соответствует вашему серверу:
    ```python
    SERVER_URL = 'http://ваш_ip_адрес:5000'
    ```

### Запуск

#### Запуск сервера

1. Перейдите в директорию с серверным приложением:
    ```bash
    cd server_app
    ```

2. Запустите сервер:
    ```bash
    python server.py
    ```

#### Запуск приложения управления

1. Вернитесь в корневую директорию проекта и запустите Management Application:
    ```bash
    python management_app.py
    ```

## Компиляция в `.exe`

Для компиляции Python приложений в исполняемые файлы `.exe`, можно использовать библиотеку `PyInstaller`.

### Инструкции по компиляции

1. Установите `PyInstaller`, если он еще не установлен:
    ```bash
    pip install pyinstaller
    ```

2. Перейдите в директорию проекта и выполните следующие команды для компиляции:

    - Для `management_app.py`:
        ```bash
        pyinstaller --onefile management_app.py
        ```

    - Для `server.py`:
        ```bash
        pyinstaller --onefile server.py
        ```

3. После выполнения этих команд, в директории `dist` появятся исполняемые файлы `.exe` для каждого приложения.

### Запуск после компиляции

1. Перейдите в папку `dist`, где находятся скомпилированные `.exe` файлы.

2. Запустите сервер:
    ```bash
    ./server.exe
    ```

3. Запустите приложение управления:
    ```bash
    ./management_app.exe
    ```

## Дополнительная информация

### Обход ограничений доменных сетей

Management Application работает локально и не требует установки, что позволяет обходить ограничения доменных сетей. Это означает, что приложение можно запустить прямо на компьютере без необходимости регистрации или установки в системе.

### API сервера

Сервер предоставляет API, который используется Management Application для выполнения различных операций, таких как добавление сотрудников, управление голосами, отправка и получение сообщений в чате, и управление файлами.
